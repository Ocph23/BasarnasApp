
<MudDialog>
    <DialogContent>
        <MudCard>
            <MudForm Model="@model" @ref="@form" OnVal Validation="@(validator.ValidateValue)" ValidationDelay="0">
                <MudCardContent>
                   @*  <MudTextField @bind-Value="model.Email"
                                  For="@(() => model.Email)"
                                  Immediate="true"
                                  Label="Email" /> *@

                    <MudTextField @bind-Value="model.OldPassword" InputType="InputType.Password"
                                  For="@(() => model.OldPassword)"
                                  Immediate="true"
                                  Label="Password Lama" />
                    <MudTextField @bind-Value="model.NewPassword" InputType="InputType.Password"
                                  For="@(() => model.NewPassword)"
                                  Immediate="true"
                                  Label="Password Baru" />
                    <MudTextField @bind-Value="model.ConfirmPassword" InputType="InputType.Password"
                                  For="@(() => model.ConfirmPassword)"
                                  Immediate="true"
                                  Label="Konfirmasi Password" />
                </MudCardContent>
            </MudForm>
        </MudCard>
    </DialogContent>
    <DialogActions>
        <MudButton OnClick="Cancel">Cancel</MudButton>
        <MudButton OnClick="Submit" Color="Color.Primary">Ok</MudButton>
    </DialogActions>
</MudDialog>



@code {
    [CascadingParameter] MudDialogInstance MudDialog { get; set; }

    [Parameter]
    public ChangeUserPasswordRequest model { get; set; }

    MudForm form;
    ChangeUserPasswordValidator validator = new ChangeUserPasswordValidator();

    void Submit()
    {

        if (form.IsValid)
        {
            MudDialog.Close(DialogResult.Ok(model));
        }
    }
    void Cancel() => MudDialog.Cancel();
}